JOURNAL SYSTEM
==============

A rich-text journaling feature for capturing notes, thoughts, and reflections.

Overview
--------
The Journal provides a personal archive for users to record notes from various sources throughout the app. It features a WYSIWYG editor, cloud sync, tagging, and PDF export.

Key Features
------------

RICH TEXT EDITOR
- Bold, italic, underline, strikethrough
- Headings (H2)
- Block quotes
- Bullet and numbered lists
- Links
- Code blocks
- Clean, distraction-free interface

AUTO-SAVE
- Saves automatically after 3 seconds of inactivity
- Saves on tab/window close
- No manual save button needed
- Visual indicators: "Unsaved changes", "Saving...", "Saved at [time]"

CLOUD SYNC
- Entries stored in Cloudflare D1 database
- Accessible from any device
- Real-time synchronization
- Optional: Google Drive integration for personal storage

TAGGING SYSTEM
- Add custom tags to entries
- Tag-based filtering and search
- Tags normalized (lowercase, alphanumeric + hyphens)
- Quick tag suggestions (future)

ENTRY SOURCES
- quick_note: From Quick Notes widget
- journal_editor: Created in Journal page
- clock_note: From Clock Out notes
- block_note: From Block Schedule
- goal_note: From Goals
- project_note: From Projects

Library View
------------
- Grid/list view of all entries
- Search by title, content, or tags
- Filter by source type
- Sort by date (newest/oldest)
- Preview snippets

Editor View
-----------
- Full-screen editing experience
- Title field (optional)
- Rich text content area
- Tag management
- Back to library navigation

Export Options
--------------
- PDF export per entry
- Formatted with branding
- Includes metadata (date, source, tags)
- Professional output for sharing

Storage Architecture
--------------------
journal_entries table:
  - id: UUID (primary key)
  - user_id: Foreign key to users
  - title: Text (optional)
  - content: Plain text (for search)
  - rich_content: HTML (for display)
  - source: Enum of source types
  - source_id: Reference to original (optional)
  - tags: JSON array
  - created_at: DateTime
  - updated_at: DateTime

Storage Limits
--------------
- Admin users: 500MB
- Worker users: 50MB
- Alternative: Unlimited via Google Drive
