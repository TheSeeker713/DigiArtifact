name = "digiartifact-workers-api"
main = "src/index.ts"
compatibility_date = "2024-02-22"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "digiartifact-workers"
database_id = "8e0f8600-ecdd-4065-bce4-b73cbe546920"

# Environment variables
[vars]
JWT_SECRET = "change-this-to-a-secure-secret-in-production"
CORS_ORIGIN = "https://workers.digiartifact.com"
API_BASE_URL = "https://digiartifact-workers-api.digitalartifact11.workers.dev"
FRONTEND_URL = "https://workers.digiartifact.com"
ALLOW_SIGNUPS = "false"
# GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET should be set via `wrangler secret put`

# Development overrides
[env.dev]
[env.dev.vars]
CORS_ORIGIN = "http://localhost:3000"
API_BASE_URL = "http://localhost:8787"
FRONTEND_URL = "http://localhost:3000"
ALLOW_SIGNUPS = "true"
